import{u as g,r as o,j as e,H as u}from"./app-DugI_NrO.js";import{A as p,S as y,c as f}from"./SidebarMenu-F3c8VQ2p.js";import{C as i}from"./index.esm-BtEJV0ob.js";import{S as N}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{M as v,S as k}from"./SecondaryButton-C629LiKj.js";import{c as w}from"./cil-filter-photo-BJ5qS1XQ.js";import"./ApplicationLogo-C71hQ9XS.js";import"./logo-CPzApIsd.js";import"./transition-GRH14pk1.js";function D({apprenants:c,trimestre:n}){g().props.auth.permissions;const[h,l]=o.useState(!1),[a,x]=o.useState(null),m=(s,r)=>{s.preventDefault(),x(r),l(!0)},d=()=>{l(!1)},b=s=>{N.fire({text:`Profile de : ${s.parent?.firstname} - ${s.parent?.lastname}`,imageUrl:s.photo,imageWidth:400,imageHeight:200,imageAlt:"Photo de profil",confirmButtonColor:"#1b5a38",confirmButtonText:"Merci"})};return e.jsxs(p,{header:e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:[e.jsx(i,{className:"text-success",icon:f})," Panel des moyennes des devoirs | ",e.jsx("strong",{className:"badge bg-light shadow-sm rounded border text-danger",children:n.libelle})]}),SidebarMenu:e.jsx(y,{}),children:[e.jsx(u,{title:"Moyennes des devoirs"}),e.jsx("div",{className:"row py-12 justify-content-center",children:e.jsx("div",{className:"col-md-10 bg-white p-4 shadow sm:rounded-lg sm:p-8 dark:bg-gray-800",children:e.jsx("div",{className:"mx-auto _max-w-7xl space-y-6 sm:px-6 lg:px-8 ",style:{overflowX:"auto"},children:e.jsxs("table",{className:"table table-striped",id:"myTable",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"N°"}),e.jsx("th",{scope:"col",children:"Photo"}),e.jsx("th",{scope:"col",children:"Ecole"}),e.jsx("th",{scope:"col",children:"Nom"}),e.jsx("th",{scope:"col",children:"Prénom"}),e.jsx("th",{scope:"col",children:"Parent"}),e.jsx("th",{scope:"col",children:"Classe"}),e.jsx("th",{scope:"col",children:"Moyennes"})]})}),e.jsx("tbody",{children:c.map((s,r)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:r+1}),e.jsx("td",{children:e.jsx("img",{src:s.photo,onClick:()=>b(s),className:"img-fluid img-circle shadow",srcSet:"",style:{width:"50px",height:"50px",borderRadius:"50%",border:"solid 5px #f6f6f6",cursor:"pointer"}})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-light border text-dark border",children:s.school?.raison_sociale})}),e.jsx("td",{children:s.firstname}),e.jsx("td",{children:s.lastname}),e.jsxs("td",{children:[s.parent?.firstname," ",s.parent?.lastname]}),e.jsxs("td",{children:[s.classe?.libelle," - ",s.serie?.libelle," "]}),e.jsx("td",{className:"text-center",children:e.jsxs("button",{className:"btn bg-light border rounded text-dark",onClick:t=>m(t,s),children:[" ",e.jsx(i,{className:"text-success",icon:w})," "]})})]},s.id))})]})})})}),e.jsx(v,{show:h,onClose:d,children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["Liste des moyennes pour l'apprenant : ",e.jsxs("em",{className:"text-success",children:[a?.firstname," -  ",a?.lastname," "]})]}),e.jsx("ul",{className:"nav nav-pills",id:"pills-tab",role:"tablist",children:a?.matieres.length>0?a?.matieres.map((s,r)=>e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`btn btn-sm _nav-link ${r===0?"active":""}`,id:`pills-${s.id}-tab`,"data-bs-toggle":"pill","data-bs-target":`#pills-${s.id}`,type:"button",children:s.libelle})},s.id)):e.jsx("li",{className:"text-danger",children:"Aucune matière disponible!"})}),e.jsx("div",{className:"tab-content mt-3",children:a?.matieres.map((s,r)=>e.jsx("div",{className:`tab-pane fade ${r==0?"show active":""}`,id:`pills-${s.id}`,children:e.jsxs("table",{className:"border-separate border-spacing-2 border border-gray-400 dark:border-gray-500",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Devoir"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Fait le"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Note"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Professeur"})]})}),e.jsx("tbody",{children:s.devoirs.data.length>0?s.devoirs.data.map((t,j)=>e.jsxs("tr",{children:[e.jsxs("th",{className:"border border-gray-100 dark:border-gray-700",children:["Devoir : ",j+1]}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-700",children:t.createdAt}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-700",children:t.note}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-700",children:`${t.createdBy?.firstname} - ${t.createdBy?.lastname}`})]})):e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx("small",{className:"text-center text-danger",children:"Aucun devoir éffectué"})})})}),e.jsx("tfoot",{children:e.jsx("tr",{children:e.jsxs("td",{colSpan:3,children:["Moyenne de devoir: ",e.jsx("strong",{className:"text-success",children:s.moyenne_devoir})," "]})})})]})},s.id))}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(k,{onClick:d,children:"Fermer"})})]})})]})}export{D as default};
