import{r as i,j as e,H as b,L as g}from"./app-B3uACJgy.js";import{A as y,S as u,c as p}from"./SidebarMenu-B9BbWJfu.js";import{C as a}from"./index.esm-B6pYcFWI.js";import{S as f}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{M as N,S as v}from"./SecondaryButton-C5mmguQ2.js";import{c as k}from"./cil-library-add-Cbli5Ji_.js";import"./ApplicationLogo-BbZ8OTBZ.js";import"./logo-CPzApIsd.js";import"./transition-Dh8lqRkT.js";var w=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M440,40H72A32.036,32.036,0,0,0,40,72V440a32.036,32.036,0,0,0,32,32H440a32.036,32.036,0,0,0,32-32V72A32.036,32.036,0,0,0,440,40Zm0,400H72V72H440Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M120.614,261.739l.031,2.261.317,22.978,21.874,7.041,60.183,19.373L221.8,373.034l7.051,22.387h54.3l7.051-22.387,18.782-59.642,60.183-19.373,21.874-7.041L391.355,264l.031-2.261.071-5.092.322-23.282L369.726,225.9l-56.47-19.127-23.3-68.995-7.348-21.763H229.388l-7.348,21.763-23.3,69L142.274,225.9l-22.053,7.469.322,23.282ZM224,232l28.359-83.989h7.282L288,232l71.46,24.2c-.049,3.519-.053,3.836-.1,7.354L283.428,288l-23.751,75.421h-7.354L228.572,288l-75.93-24.442c-.049-3.518-.053-3.835-.1-7.354Z' class='ci-primary'/>"];function B({apprenants:o}){console.log(o);const[n,d]=i.useState(!1),[l,h]=i.useState(null),m=(s,r)=>{s.preventDefault(),h(r),d(!0),console.log(r)},c=()=>{d(!1)},x=s=>{f.fire({text:`Profile de : ${s.parent?.firstname} - ${s.parent?.lastname}`,imageUrl:s.photo,imageWidth:400,imageHeight:200,imageAlt:"Photo de profil",confirmButtonColor:"#1b5a38",confirmButtonText:"Merci"})};return e.jsxs(y,{header:e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:[e.jsx(a,{className:"text-success",icon:p})," Panel des moyennes d'interrogation"]}),SidebarMenu:e.jsx(u,{}),children:[e.jsx(b,{title:"Moyennes des interrogations"}),e.jsx("div",{className:"row py-12 justify-content-center",children:e.jsx("div",{className:"col-md-10 bg-white p-4 shadow sm:rounded-lg sm:p-8 dark:bg-gray-800",children:e.jsxs("div",{className:"mx-auto _max-w-7xl space-y-6 sm:px-6 lg:px-8 ",style:{overflowX:"auto"},children:[e.jsx("div",{className:"  items-center gap-4",children:e.jsxs(g,{className:"btn btn-sm bg-success bg-hover text-white",href:route("apprenant.create"),children:[" ",e.jsx(a,{className:"",icon:k})," Ajouter"]})}),e.jsxs("table",{className:"table table-striped",id:"myTable",style:{width:"100%"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"N°"}),e.jsx("th",{scope:"col",children:"Photo"}),e.jsx("th",{scope:"col",children:"Ecole"}),e.jsx("th",{scope:"col",children:"Nom"}),e.jsx("th",{scope:"col",children:"Prénom"}),e.jsx("th",{scope:"col",children:"Parent"}),e.jsx("th",{scope:"col",children:"Classe"}),e.jsx("th",{scope:"col",children:"Moyennes"})]})}),e.jsx("tbody",{children:o.map((s,r)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:r+1}),e.jsx("td",{children:e.jsx("img",{src:s.photo,onClick:()=>x(s),className:"img-fluid img-circle shadow",srcSet:"",style:{width:"50px",height:"50px",borderRadius:"50%",border:"solid 5px #f6f6f6",cursor:"pointer"}})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-light border text-dark border",children:s.school?.raison_sociale})}),e.jsx("td",{children:s.firstname}),e.jsx("td",{children:s.lastname}),e.jsxs("td",{children:[s.parent?.firstname," ",s.parent?.lastname]}),e.jsxs("td",{children:[s.classe?.libelle," - ",s.serie?.libelle," "]}),e.jsx("td",{className:"text-center",children:e.jsxs("button",{className:"btn bg-light border rounded text-dark",onClick:t=>m(t,s),children:[" ",e.jsx(a,{className:"text-success",icon:w})," "]})})]},s.id))})]})]})})}),e.jsx(N,{show:n,onClose:c,children:e.jsxs("div",{className:"p-3",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["Liste des moyennes pour l'apprenant : ",e.jsxs("em",{className:"text-success",children:[l?.firstname," -  ",l?.lastname," "]})]}),e.jsx("ul",{className:"nav nav-pills",id:"pills-tab",role:"tablist",children:l?.matieres.map((s,r)=>e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`btn btn-sm _nav-link ${r===0?"active":""}`,id:`pills-${s.id}-tab`,"data-bs-toggle":"pill","data-bs-target":`#pills-${s.id}`,type:"button",children:s.libelle})},s.id))}),e.jsx("div",{className:"tab-content mt-3",children:l?.matieres.map((s,r)=>e.jsx("div",{className:`tab-pane fade ${r==0?"show active":""}`,id:`pills-${s.id}`,children:e.jsxs("table",{className:"border-separate border-spacing-2 border border-gray-400 dark:border-gray-500",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Interrogation"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Fait le"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Note"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600",children:"Professeur"})]})}),e.jsx("tbody",{children:s.interrogations.data.length>0?s.interrogations.data.map((t,j)=>e.jsxs("tr",{children:[e.jsxs("th",{className:"border border-gray-100 dark:border-gray-700",children:["Interro : ",j+1]}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-700",children:t.createdAt}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-700",children:t.note}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-700",children:`${t.createdBy?.firstname} - ${t.createdBy?.lastname}`})]})):e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx("small",{className:"text-center text-danger",children:"Aucune interrogation éffectuée"})})})}),e.jsx("tfoot",{children:e.jsx("tr",{children:e.jsxs("td",{colSpan:3,children:["Moyenne d'interrogation: ",e.jsx("strong",{className:"text-success",children:s.moyenne_interro})," "]})})})]})},s.id))}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v,{onClick:c,children:"Fermer"})})]})})]})}export{B as default};
